# yaml-language-server: $schema=https://json.schemastore.org/github-workflow.json
# -----------------------------------------------------------------------------
# CI Workflow â€” Travel-Plan-Permission
# -----------------------------------------------------------------------------
# Uses reusable Python CI from stranske/Workflows.
#
# NOTE: Cannot use `needs` to reference a reusable workflow job from a regular
# job - this causes startup_failure. Gate job pattern must use workflow_run
# trigger in a separate workflow or rely on GitHub required checks.
#
# Pin reference: stranske/Workflows@07c3a6ce10ff00953624e9f0705c44190ec7b33c
# -----------------------------------------------------------------------------

name: CI

on:
  pull_request:
    branches: [main]
  push:
    branches: [main]
  workflow_dispatch:

jobs:
  # Reusable Python CI from stranske/Workflows
  python-ci:
    name: Python CI
    uses: stranske/Workflows/.github/workflows/reusable-10-ci-python.yml@07c3a6ce10ff00953624e9f0705c44190ec7b33c
    with:
      python-versions: '["3.11", "3.12"]'
      coverage-min: "80"
    secrets: inherit
